# ====================================================================
# PRODY BUILD CONFIGURATION
# Optimized for large codebase (140k+ lines)
# ====================================================================

# --------------------------------------------------------------------
# MEMORY SETTINGS (CRITICAL - DO NOT REDUCE THESE VALUES)
# --------------------------------------------------------------------

# Gradle JVM - 8GB heap with optimized GC (increased for material-icons-extended)
org.gradle.jvmargs=-Xmx8g -XX:+HeapDumpOnOutOfMemoryError -XX:+UseParallelGC -XX:MaxMetaspaceSize=1g -Dfile.encoding=UTF-8

# Kotlin daemon - 6GB heap (runs separately from Gradle, increased for extended icons)
kotlin.daemon.jvmargs=-Xmx6g -XX:+HeapDumpOnOutOfMemoryError -XX:+UseParallelGC -Dfile.encoding=UTF-8

# --------------------------------------------------------------------
# GRADLE DAEMON & PERFORMANCE (CRITICAL - DAEMON MUST BE ENABLED)
# --------------------------------------------------------------------

# Enable daemon - THIS MUST BE TRUE
org.gradle.daemon=true

# Parallel execution - builds modules simultaneously
org.gradle.parallel=true

# Build caching - reuses outputs from previous builds
org.gradle.caching=true

# Configuration cache - faster configuration phase
org.gradle.configuration-cache=true

# File system watching - faster incremental builds
org.gradle.vfs.watch=true

# Maximum workers (adjust based on CPU cores)
org.gradle.workers.max=4

# --------------------------------------------------------------------
# KOTLIN COMPILER SETTINGS
# --------------------------------------------------------------------

# Incremental compilation - only recompile changed files
kotlin.incremental=true
kotlin.incremental.java=true

# Kotlin build caching
kotlin.caching.enabled=true

# Kotlin code style
kotlin.code.style=official

# --------------------------------------------------------------------
# ANDROID BUILD SETTINGS
# --------------------------------------------------------------------

# AndroidX libraries
android.useAndroidX=true

# Non-transitive R classes (reduces memory and build time)
android.nonTransitiveRClass=true

# Enable R8 full mode for better optimization
android.enableR8.fullMode=true

# Jetpack Compose
android.defaults.buildfeatures.compose=true

# BuildConfig generation (Deprecated in properties, now handled in build.gradle.kts)

# Disable unused build features (saves memory)
android.defaults.buildfeatures.aidl=false
android.defaults.buildfeatures.renderscript=false
android.defaults.buildfeatures.shaders=false
android.defaults.buildfeatures.resValues=true

# --------------------------------------------------------------------
# KSP (Kotlin Symbol Processing) - Used by Room and Hilt
# --------------------------------------------------------------------

# Enable incremental processing
ksp.incremental=true
ksp.incremental.log=false
